<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸŒ Explore the World - BloomWatch</title>
    
    <!-- PWA Meta Tags -->
    <meta name="description" content="Explore amazing plants around the world with NASA satellite data!">
    <meta name="theme-color" content="#4CAF50">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Comic+Neue:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='css/style.css') }}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.7.1/dist/leaflet.css" />
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-success">
        <div class="container">
            <a class="navbar-brand" href="{{ url_for('index') }}">
                ğŸŒ± BloomWatch
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="{{ url_for('index') }}">ğŸ  Home</a>
                <a class="nav-link active" href="#">ğŸŒ Explore</a>
                <a class="nav-link" href="{{ url_for('learn') }}">ğŸ“ Learn</a>
                <a class="nav-link" href="{{ url_for('games') }}">ğŸ® Games</a>
                <a class="nav-link" href="{{ url_for('share') }}">ğŸ“¸ Share</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <div class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-4 fw-bold text-white mb-4">
                        ğŸŒ Explore Amazing Plants Around the World!
                    </h1>
                    <p class="lead text-white mb-4">
                        Use our interactive world map to discover plants and flowers from different countries! 
                        Click on the colorful dots to learn about nature in different places! ğŸŒ±âœ¨
                    </p>
                </div>
                <div class="col-lg-4">
                    <div class="hero-stats">
                        <div class="row text-center">
                            <div class="col-6">
                                <div class="stat-item">
                                    <h3 class="text-white">ğŸŒ</h3>
                                    <p class="text-white-50">Countries</p>
                                </div>
                            </div>
                            <div class="col-6">
                                <div class="stat-item">
                                    <h3 class="text-white">ğŸŒ±</h3>
                                    <p class="text-white-50">Plant Types</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Map Controls -->
    <div class="container my-4">
        <div class="row">
            <div class="col-12">
                <div class="card shadow">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">
                            ğŸ® Map Explorer Controls
                        </h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3">
                                <label for="citySelect" class="form-label">ğŸŒ Choose a Place to Explore!</label>
                                <select class="form-select" id="citySelect" onchange="updateCity()">
                                    <option value="global">ğŸŒ See the Whole World!</option>
                                    <option value="new-york">ğŸ—½ New York City</option>
                                    <option value="london">ğŸ° London</option>
                                    <option value="tokyo">ğŸ—¾ Tokyo</option>
                                    <option value="sao-paulo">ğŸŒ´ SÃ£o Paulo</option>
                                    <option value="sydney">ğŸ¦˜ Sydney</option>
                                    <option value="cape-town">ğŸ”ï¸ Cape Town</option>
                                    <option value="mumbai">ğŸ•Œ Mumbai</option>
                                    <option value="paris">ğŸ—¼ Paris</option>
                                    <option value="los-angeles">ğŸŒ´ Los Angeles</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="timeRange" class="form-label">â° How Far Back in Time?</label>
                                <select class="form-select" id="timeRange" onchange="updateTimeRange()">
                                    <option value="1">ğŸ“… Last Year</option>
                                    <option value="3">ğŸ“… Last 3 Years</option>
                                    <option value="5" selected>ğŸ“… Last 5 Years</option>
                                    <option value="10">ğŸ“… Last 10 Years</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label for="vegetationIndex" class="form-label">ğŸŒ¿ Plant Health Meter</label>
                                <select class="form-select" id="vegetationIndex" onchange="updateVegetationIndex()">
                                    <option value="ndvi" selected>ğŸŒ± Green Plant Health</option>
                                    <option value="evi">ğŸŒ¿ Enhanced Plant Health</option>
                                    <option value="savi">ğŸŒ¾ Soil-Adjusted Health</option>
                                    <option value="gndvi">ğŸŒ³ Green Leaf Health</option>
                                </select>
                            </div>
                            <div class="col-md-3">
                                <label class="form-label">&nbsp;</label>
                                <div>
                                    <button class="btn btn-success w-100" onclick="refreshData()">
                                        <i class="fas fa-sync-alt me-2"></i>ğŸ”„ Get New Data!
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Interactive Map Section -->
    <div class="container my-5">
        <div class="row">
            <div class="col-12">
                <div class="card shadow">
                    <div class="card-header bg-light">
                        <h5 class="mb-0">
                            <span id="mapTitle">ğŸŒ Amazing Plant World Map</span>
                        </h5>
                        <small class="text-muted" id="mapDescription">Click on the colorful dots to learn about plants in different places! ğŸŒ±</small>
                    </div>
                    <div class="card-body p-0">
                        <div id="globalMap" style="height: 600px;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <!-- Analysis Section -->
    <div class="container my-5" id="analysisSection">
        <div class="row">
            <!-- Time Series Chart -->
            <div class="col-lg-10">
                <div class="card shadow mb-4">
                    <div class="card-header bg-light text-center">
                        <h5 class="mb-0">ğŸ“ˆ How Plants Grow Over Time!</h5>
                    </div>
                    <div class="card-body">
                        <canvas id="timeSeriesChart" height="300"></canvas>
                    </div>
                </div>
            </div>
            
            <!-- Key Metrics -->
            <div class="col-lg-2">
                <div class="card shadow mb-4">
                    <div class="card-header bg-light text-center">
                        <h5 class="mb-0">ğŸ“Š Plant Health Scoreboard!</h5>
                    </div>
                    <div class="card-body">
                        <div class="metric-item mb-3">
                            <div class="d-flex justify-content-between">
                                <span>ğŸŒ± How Green Are the Plants?</span>
                                <span class="fw-bold" id="currentIntensity">-</span>
                            </div>
                            <div class="progress mt-1">
                                <div class="progress-bar bg-success" id="intensityBar" style="width: 0%"></div>
                            </div>
                        </div>
                        
                        <div class="metric-item mb-3">
                            <div class="d-flex justify-content-between">
                                <span>ğŸŒ¸ Best Blooming Day</span>
                                <span class="fw-bold" id="peakDate">-</span>
                            </div>
                        </div>
                        
                        <div class="metric-item mb-3">
                            <div class="d-flex justify-content-between">
                                <span>ğŸ“ˆ Are Plants Growing More?</span>
                                <span class="fw-bold" id="trend">-</span>
                            </div>
                        </div>
                        
                        <div class="metric-item">
                            <div class="d-flex justify-content-between">
                                <span>ğŸŒº Best Season for Flowers</span>
                                <span class="fw-bold" id="peakSeason">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- AI & Advanced Analytics -->
        <div class="row mb-4">
            <div class="col-lg-8">
                <div class="card shadow" id="predictionCard" style="display: none;">
                    <!-- AI Prediction content will be loaded here -->
                </div>
            </div>
            <div class="col-lg-4">
                <div class="row">
                    <div class="col-12 mb-3">
                        <div class="card shadow" id="anomaliesCard" style="display: none;">
                            <!-- Anomaly detection content will be loaded here -->
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card shadow" id="climateCard" style="display: none;">
                            <!-- Climate correlation content will be loaded here -->
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="card shadow" id="nasaAttributionCard" style="display: none;">
                            <!-- NASA data attribution will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Citizen Science & 3D Visualization -->
        <div class="row mb-4">
            <div class="col-lg-6">
                <div class="card shadow" id="citizenCard" style="display: none;">
                    <!-- Citizen science content will be loaded here -->
                </div>
            </div>
            <div class="col-lg-6">
                <div class="card shadow" id="globeCard" style="display: none;">
                    <!-- 3D Globe content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Fun Learning Section -->
    <div class="container my-5">
        <div class="row">
            <div class="col-md-6">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0">
                            ğŸ’¡ Fun Plant Facts!
                        </h5>
                    </div>
                    <div class="card-body">
                        <div id="funFactsContainer">
                            <div class="alert alert-info">
                                <i class="fas fa-spinner fa-spin me-2"></i>Loading fun facts about plants...
                            </div>
                        </div>
                        <button class="btn btn-primary w-100 mt-3" onclick="showNextFact()">
                            ğŸŒ± Show Me Another Fact!
                        </button>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card shadow">
                    <div class="card-header bg-success text-white">
                        <h5 class="mb-0">
                            ğŸ† Your Exploration Achievements!
                        </h5>
                    </div>
                    <div class="card-body">
                        <div id="achievementsContainer">
                            <div class="achievement-item mb-3">
                                <div class="d-flex align-items-center">
                                    <span class="achievement-icon me-3">ğŸŒ</span>
                                    <div>
                                        <h6 class="mb-1">World Explorer</h6>
                                        <div class="progress" style="height: 8px;">
                                            <div class="progress-bar bg-success" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="achievement-item mb-3">
                                <div class="d-flex align-items-center">
                                    <span class="achievement-icon me-3">ğŸ—ºï¸</span>
                                    <div>
                                        <h6 class="mb-1">Map Navigator</h6>
                                        <div class="progress" style="height: 8px;">
                                            <div class="progress-bar bg-info" style="width: 0%"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h6>ğŸŒ± BloomWatch</h6>
                    <p class="mb-0">Learning about plants and nature with real NASA space data! ğŸš€</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <p class="mb-0">
                        <i class="fas fa-rocket me-1"></i>
                        Powered by NASA Space Data! ğŸŒŸ
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{{ url_for('static', filename='js/explore.js') }}?v=3.0"></script>
</body>
</html>
